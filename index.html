<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>مواقيت الصلاة</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@200;300;400;500;700;800;900&display=swap" rel="stylesheet">
    <style>
        body{
            background: linear-gradient(45deg,#240165,#05001c);
            font-family: 'Tajawal',sans-serif;
        }
        #city-name{
            font-size:100px;
            font-weight:400
        }
        h1,h2,h3,h4,h5,h6{
            margin:0;
        }
        .card{
            width:12%;
            height:95%;
            background-color: white;
            font-size:20px;
            box-shadow: 0px 10px 5px rgb(0 0 0 /30%);

        }
        .header {
         background:linear-gradient(45deg,#5709ee,#7a37bf);
         color:white;
        }
        .header h1{
            font-weight:400;
            padding:5px;
            text-align: center;
        }
        .center{
            display:flex;
            justify-content:center;
            align-items: center;
        }
        .time{
            font-size:50px;
        }
    </style>
</head>
<body style="direction: rtl" >
    <div style="height:100vh">
        <!-- city name + date-->
      <div style="margin-top:10px">
        <!-- city name-->
        <div style="color:white; margin-right:40px;">
         <h1 id="city-name">الرياض</h1>
         <h6 style="font-size:40px;font-weight:200"; id="date">الجمعة 24 نوفمبر</h6>
        </div>
<!-- //city name//-->
   <hr style="margin: 0px 100px 50px ;border-color: #5200e1;">

<!-- prayer timings-->
 <div class="center" style="height:300px;margin-top:80px;justify-content:space-around;">
 <div class="card">

    <div class="header">
        <h1>الفجر</h1>
    </div>

    <div class="body center" style="height:80%;" >
        <h1 class="time" id="fajr-time">4:30</h1>
    </div>
 </div>
  <div class="card">

    <div class="header">
        <h1 c>الشروق</h1>
    </div>

    <div class="body center" style="height:80%" >
        <h1 class="time" id="summerize-time">4:30</h1>
    </div>
 </div>
  <div class="card">

    <div class="header">
        <h1>الظهر</h1>
    </div>

    <div class="body center" style="height:80%" >
        <h1 class="time" id="dhuhr-time">4:30</h1>
    </div>
 </div>
  <div class="card">

    <div class="header">
        <h1>العصر</h1>
    </div>

    <div class="body center" style="height:80%" >
        <h1 class="time" id="asr-time">4:30</h1>
    </div>
 </div>
  <div class="card">

    <div class="header">
        <h1>المغرب</h1>
    </div>

    <div class="body center" style="height:80%" >
        <h1 class="time" id="maghreb-time">4:30</h1>
    </div>
 </div>
  <div class="card">

    <div class="header">
        <h1>العشاء</h1>
    </div>

    <div class="body center" style="height:80%" >
        <h1 class="time" id="isha-time">4:30</h1>
    </div>
 </div>
 </div>
 <!-- //prayer timings//-->
   <!-- change city select-->
    <div class="center" style="margin:120px">
        <select id="cities-select" style="width:300px;
        height:40px;font-size: 25px;background: none;color:white;
        padding:5px;border-radius: 20px;margin-top:-100px;">
        </select>
    </div>
    <!-- //change city select//-->
      </div>
    </div>
</body>
<script src="./node_modules/axios/dist/axios.min.js"></script>

<script>
    let cities =[
        {
            arabicName: "الرياض",
            name: "Ar Riyāḑ"
        }
        ,
        {
            arabicName: "مكة المكرمة",
            name: "Makkah al Mukarramah"
        }

    ]
    for (let city of cities){
        const content = `
         <option style="color:black">${city.arabicName}</option>
        `
        document.getElementById("cities-select").innerHTML +=content
    }
    document.getElementById("cities-select").addEventListener("change",function(){
        document.getElementById("city-name").innerHTML =this.value
        let cityname =""
        for(let city of cities){
            if(city.arabicName == this.value){
                cityname =city.name
            }
        }
        getprayerstimingofcity(cityname)
    })
       function getprayerstimingofcity(cityname){
        let params = {
        country:"SA",
        city: cityname
    }
        axios.get('http://api.aladhan.com/v1/timingsByCity',{
        params:params
    }).then(function (response){
        const timings=response.data.data.timings
        filltimeforprayer("fajr-time",timings.Fajr)
        filltimeforprayer("summerize-time",timings.Sunrise)
        filltimeforprayer("dhuhr-time",timings.Dhuhr)
        filltimeforprayer("asr-time",timings.Asr)
        filltimeforprayer("maghreb-time",timings.Sunset)
        filltimeforprayer("isha-time",timings.Isha)

        const readabledate = response.data.data.date.readable
        const weekDay = response.data.data.date.hijri.weekday.ar
        const date =weekDay + " " + readabledate
        document.getElementById("date").innerHTML = date
    }).catch(function(response){
        console.log(error);
    })
    }
    getprayerstimingofcity("Ar Riyāḑ")
    function filltimeforprayer(id,time){
     document.getElementById(id).innerHTML=time
    }
</script>
</html>